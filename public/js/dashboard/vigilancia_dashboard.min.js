var urls="https://sie.grupowalworth.com/",key="5973C777%B7673309895AD%FC2BD1962C1062B9?3890FC277A04499Â¿54D18FC13677";$(document).ready(function(){tbl_permissions=$("#tabla_permisos").dataTable({processing:!0,ajax:{method:"post",url:`${urls}permisos/permisos_autorizados`,dataSrc:""},lengthChange:!0,ordering:!0,responsive:!0,autoWidth:!0,rowId:"staffId",dom:"lBfrtip",buttons:[{extend:"excelHtml5",title:"Permisos",exportOptions:{columns:[0,1,2,3,4,5,6]}}],language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"},columns:[{data:"id_es",title:"FOLIO",className:"text-center"},{width:"15%",data:"nombre_solicitante",title:"USUARIO"},{data:null,render:function(t,e,a,r){var s=new Date(t.fecha_salida),n=(s.getDate()+1).toString().padStart(2,"0"),d=(s.getMonth()+1).toString().padStart(2,"0");if(32==n){n="01";d=(s.getMonth()+2).toString().padStart(2,"0")}var i=s.getFullYear();let l=n+"-"+d+"-"+i;const o=t.hora_salida;return"0000-00-00"===$.trim(t.fecha_salida)?"---":` <div class="mr-auto"> ${l} <br> ${o} </div> `},title:"SALIDA",className:"text-center"},{data:null,render:function(t,e,a,r){var s=new Date(t.fecha_entrada),n=(s.getDate()+1).toString().padStart(2,"0"),d=(s.getMonth()+1).toString().padStart(2,"0");if(32==n){n="01";d=(s.getMonth()+2).toString().padStart(2,"0")}var i=s.getFullYear();let l=n+"-"+d+"-"+i;const o=t.hora_entrada;return"0000-00-00"===$.trim(t.fecha_entrada)?"---":` <div class="mr-auto"> ${l}<br> ${o} </div> `},title:"ENTRADA",className:"text-center"},{data:null,render:function(t,e,a,r){var s=new Date(t.inasistencia_del),n=s.getDate().toString().padStart(2,"0"),d=(s.getMonth()+1).toString().padStart(2,"0"),i=s.getFullYear(),l=new Date(t.inasistencia_al),o=l.getDate().toString().padStart(2,"0"),c=(l.getMonth()+1).toString().padStart(2,"0");if(32==n){n="01";d=(l.getMonth()+2).toString().padStart(2,"0")}var u=l.getFullYear();let g=n+"-"+d+"-"+i,p=o+"-"+c+"-"+u;return"0000-00-00"==$.trim(t.inasistencia_del)?"---":` <div class="mr-auto">Del: ${g} </br> Al: ${p} </div> `},title:"AUSENCIA",className:"text-center"},{data:null,render:function(t,e,a,r){switch(t.estatus){case"Rechazada":return`<span class="badge badge-danger">${t.estatus}</span>`;case"Autorizada":return`<span class="badge badge-success">${t.estatus}</span>`;default:return`<span class="badge badge-warning">${t.estatus}</span>`}},title:"ESTATUS",className:"text-center"},{data:null,title:"VER",className:"text-center"}],destroy:"true",columnDefs:[{targets:6,render:function(t,e,a,r){return` <div class="pull-right mr-auto">\n                        <a href="${urls}permisos/ver-permisos/${$.md5(key+t.id_es)}" target="_blank" class="btn btn-info btn-sm">\n                              <i class="fas fa-eye"></i>\n                        </a>\n                      </div> `}},{targets:[0],visible:!1,searchable:!1}],order:[[0,"DESC"]],createdRow:(t,e)=>{$(t).attr("id","permissions_"+e.id_es)}}).DataTable(),$("#tabla_permisos thead").addClass("thead-dark text-center"),tbl_permissions=$("#tabla_proveedores_visitas").dataTable({processing:!0,ajax:{method:"post",url:`${urls}qhse/proveedores_visitas`,dataSrc:""},lengthChange:!0,ordering:!0,responsive:!0,autoWidth:!0,lengthMenu:[[5,10,20,-1],[5,10,20,"Todos"]],rowId:"staffId",language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"},columns:[{data:"id",title:"FOLIO",className:"text-center"},{data:"person_you_visit",title:"USUARIO"},{data:"suppliers",title:"PROVEEDOR"},{data:null,render:function(t,e,a,r){var s=new Date(t.day_you_visit),n=(s.getDate()+1).toString().padStart(2,"0"),d=(s.getMonth()+1).toString().padStart(2,"0"),i=s.getFullYear();let l=n+"-"+d+"-"+i;const o=t.time_of_entry;return"0000-00-00"===$.trim(t.fecha_salida)?"---":` <div class="mr-auto"> ${l} <br> ${o} </div> `},title:"ENTRADA",className:"text-center"},{data:null,render:function(t,e,a,r){switch(t.authorize){case"3":return'<span class="badge badge-danger">Rechazada</span>';case"2":return'<span class="badge badge-success">Autorizada</span>';case"1":return'<span class="badge badge-warning">Pendiente</span>';default:return'<span class="badge badge-default">Error</span>'}},title:"ESTATUS",className:"text-center"},{data:"departament_you_visit",title:"DEPTO"},{data:null,title:"VER",className:"text-center"}],destroy:"true",columnDefs:[{targets:6,render:function(t,e,a,r){return` <div class="pull-right mr-auto">\n                        <a href="${urls}qhse/ver-permiso/${$.md5(key+t.id)}" target="_blank" class="btn btn-info btn-sm">\n                              <i class="fas fa-eye"></i>\n                        </a>\n                      </div> `}},{targets:[0],visible:!1,searchable:!1}],order:[[0,"DESC"]],createdRow:(t,e)=>{$(t).attr("id","proveedor_"+e.id)}}).DataTable(),$("#tabla_proveedores_visitas thead").addClass("thead-dark text-center"),tbl_over_time=$("#tabla_tiempo_extra").dataTable({processing:!0,ajax:{method:"post",url:`${urls}qhse/tiempos_extra`,dataSrc:""},lengthChange:!0,ordering:!0,responsive:!0,autoWidth:!0,lengthMenu:[[5,10,20,-1],[5,10,20,"Todos"]],rowId:"staffId",language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"},columns:[{data:"id",title:"FOLIO",className:"text-center"},{data:"name",title:"USUARIO"},{data:null,render:function(t,e,a,r){var s=new Date(t.day_you_visit),n=(s.getDate()+1).toString().padStart(2,"0"),d=(s.getMonth()+1).toString().padStart(2,"0"),i=s.getFullYear();let l=n+"-"+d+"-"+i;const o=t.time_of_entry;return"0000-00-00"===$.trim(t.day_you_visit)?"---":` <div class="mr-auto"> ${l} <br> ${o} </div> `},title:"ENTRADA",className:"text-center"},{data:null,render:function(t,e,a,r){new Date(t.departure_time);const s=t.departure_time;return"00:00:00"===$.trim(s)?"---":` <div class="mr-auto">${s} </div> `},title:"SALIDA",className:"text-center"},{data:null,render:function(t,e,a,r){switch(t.authorize){case"3":return'<span class="badge badge-danger">Rechazada</span>';case"2":return'<span class="badge badge-success">Autorizada</span>';case"1":return'<span class="badge badge-warning">Pendiente</span>';default:return'<span class="badge badge-default">Error</span>'}},title:"ESTATUS",className:"text-center"},{data:"departament",title:"DEPTO",className:"text-center"},{data:null,title:"VER",className:"text-center"}],destroy:"true",columnDefs:[{targets:6,render:function(t,e,a,r){return` <div class="pull-right mr-auto">\n                      <a href="${urls}qhse/ver-tiempo-extra/${$.md5(key+t.id)}" target="_blank" class="btn btn-info btn-sm">\n                            <i class="fas fa-eye"></i>\n                      </a>\n                    </div> `}},{targets:[0],visible:!1,searchable:!1}],order:[[0,"DESC"]],createdRow:(t,e)=>{$(t).attr("id","overtime_"+e.id)}}).DataTable(),$("#tabla_tiempo_extra thead").addClass("thead-dark text-center")});