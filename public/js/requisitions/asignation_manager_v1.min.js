$("#modal").hide(),$("#btn_buscar").on("click",function(a){if($("#modal").hide(),a.preventDefault(),0==$("#nomina").val().length)return $("#nomina").addClass("has-error"),$("#error_nomina").text("Campo Requerido"),!1;$("#btn_buscar").prop("disabled",!0),$("#error_nomina").text(""),$("#nomina").removeClass("has-error");let e=new FormData;e.append("nomina",$("#nomina").val()),$.ajax({data:e,url:`${urls}requisiciones/datos_personal`,type:"post",processData:!1,contentType:!1,dataType:"json",success:function(a){$("#btn_buscar").prop("disabled",!1),0==a?($("#nomina").addClass("has-error"),$("#error_nomina").text("Número de Nomina no Encontrado")):($("#registro_modal").val(a.id_notifica),$("#nombre_modal").val(a.name),$("#apellido_p_modal").val(a.surname),$("#apellido_m_modal").val(a.second_surname),$("#id_manager").val(a.id_user_notificar),$("#modal").show())}})}),$("#id_manager").on("change",function(a){$("#id_manager").removeClass("has-error"),$("#error_id_manager").text("")}),$("#nomina").on("change",function(a){$("#nomina").removeClass("has-error"),$("#error_nomina").text("")}),$("#editManager").submit(function(a){if(a.preventDefault(),""==$("#id_manager").val())return $("#id_manager").addClass("has-error"),$("#error_id_manager").text("Campo Requerido"),!1;$("#actualiza_gerente").prop("disabled",!0);let e=new FormData($("#editManager")[0]);$.ajax({data:e,url:`${urls}requisiciones/editar_datos_personal`,type:"post",processData:!1,contentType:!1,dataType:"json",success:function(a){console.log(a),$("#actualiza_gerente").prop("disabled",!1),1==a?($("#nomina").val(""),$("#registro_modal").val(""),$("#nombre_modal").val(""),$("#apellido_p_modal").val(""),$("#apellido_m_modal").val(""),$("#id_manager").val(""),$("#modal").hide(),Swal.fire("!Los datos se han Actualizado!","","success")):Swal.fire({icon:"error",title:"Oops...",text:"Algo salió Mal! Contactar con el Administrador del Sistema"})}}).fail(function(a,e,o){Swal.fire({icon:"error",title:"Oops...",text:`Error: ​​[ ${a.status} ]`})})});