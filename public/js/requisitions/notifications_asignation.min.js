function asignation(e){if($(`#user_${e}`).prop("checked")){$(`#user_${e}`).removeClass("usuario"),$("input.usuario").attr("disabled",!0),$("#usuario_seleccionado").val(e);let r=new FormData;r.append("id_user",e),$.ajax({data:r,url:`${urls}requisiciones/areas_asignadas`,type:"post",processData:!1,contentType:!1,dataType:"json",success:function(e){"error"!=e?$.each(e,function(e,r){$(`#area_${r.area_operativa}`).prop("checked",!0)}):Swal.fire({icon:"error",title:"Oops...",text:"No tiene ninguna Area Asignada"})},error:function(){$("#create-account-button").prop("disabled",!1),Swal.fire({icon:"error",title:"Oops...",text:"Ocurrio un error en el servidor! Contactar con el Administrador"})}}).fail(function(e,r,t){0===e.status?(Swal.fire({icon:"error",title:"Oops...",text:"Fallo de conexión: ​​Verifique la red."}),$("#create-account-button").prop("disabled",!1)):404==e.status?(Swal.fire({icon:"error",title:"Oops...",text:"No se encontró la página solicitada [404]"}),$("#create-account-button").prop("disabled",!1)):500==e.status?(Swal.fire({icon:"error",title:"Oops...",text:"Internal Server Error [500]"}),$("#create-account-button").prop("disabled",!1)):"parsererror"===r?(Swal.fire({icon:"error",title:"Oops...",text:"Error de análisis JSON solicitado."}),$("#create-account-button").prop("disabled",!1)):"timeout"===r?(Swal.fire({icon:"error",title:"Oops...",text:"Time out error."}),$("#create-account-button").prop("disabled",!1)):"abort"===r?(Swal.fire({icon:"error",title:"Oops...",text:"Ajax request aborted."}),$("#create-account-button").prop("disabled",!1)):(alert("Uncaught Error: "+e.responseText),Swal.fire({icon:"error",title:"Oops...",text:`Uncaught Error: ${e.responseText}`}),$("#create-account-button").prop("disabled",!1))})}else $(`#user_${e}`).addClass("usuario"),$("input.usuario").attr("disabled",!1),$(".areas").prop("checked",!1),$("#usuario_seleccionado").val("")}var urls="https://sie.grupowalworth.com/";$("#asignar_areas").on("submit",function(e){if(e.preventDefault(),0==Math.abs($("#tabla_gerentes .form-check-input:checked").length))return void Swal.fire({icon:"error",title:"Oops...",text:"No se ha Seleccionado un Usuario"});if(0==Math.abs($("#tabla_areas .form-check-input:checked").length))return void Swal.fire({icon:"error",title:"Oops...",text:"No se ha Seleccionado ninguna Area"});let r=$("#usuario_seleccionado").val(),t=new FormData;t.append("id_user",r),array_area=[],$("#tabla_areas .form-check-input:checked").each(function(){array_area.push($(this).val()),console.log(array_area)}),t.append("areas",array_area),$.ajax({url:`${urls}requisiciones/asignar_areas`,data:t,type:"post",processData:!1,contentType:!1,dataType:"json",success:function(e){console.log(e),!0===e?Swal.fire("!Se han registrado las Areas con Exito!","","success"):(Swal.fire({icon:"error",title:"Oops...",text:"Algo salió Mal! Contactar con el Administrador"}),console.log("Mal Revisa"))},error:function(){$("#create-account-button").prop("disabled",!1),Swal.fire({icon:"error",title:"Oops...",text:"Ocurrio un error en el servidor! Contactar con el Administrador"})}}).fail(function(e,r,t){0===e.status?(Swal.fire({icon:"error",title:"Oops...",text:"Fallo de conexión: ​​Verifique la red."}),$("#create-account-button").prop("disabled",!1)):404==e.status?(Swal.fire({icon:"error",title:"Oops...",text:"No se encontró la página solicitada [404]"}),$("#create-account-button").prop("disabled",!1)):500==e.status?(Swal.fire({icon:"error",title:"Oops...",text:"Internal Server Error [500]"}),$("#create-account-button").prop("disabled",!1)):"parsererror"===r?(Swal.fire({icon:"error",title:"Oops...",text:"Error de análisis JSON solicitado."}),$("#create-account-button").prop("disabled",!1)):"timeout"===r?(Swal.fire({icon:"error",title:"Oops...",text:"Time out error."}),$("#create-account-button").prop("disabled",!1)):"abort"===r?(Swal.fire({icon:"error",title:"Oops...",text:"Ajax request aborted."}),$("#create-account-button").prop("disabled",!1)):(alert("Uncaught Error: "+e.responseText),Swal.fire({icon:"error",title:"Oops...",text:`Uncaught Error: ${e.responseText}`}),$("#create-account-button").prop("disabled",!1))})});